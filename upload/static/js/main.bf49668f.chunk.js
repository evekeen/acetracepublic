(this.webpackJsonpuploader=this.webpackJsonpuploader||[]).push([[0],{63:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var a,i,o,c,r,s,l,d,u,b,p,f,j,h,g=t(15),x=t.n(g),O=t(52),m=t.n(O),v=(t(63),t(24)),w=t(16),F=t(53),y=t(14),k=t(54),C=(t(72),t(57)),S=t(48),A=t(25),I=t(21),E=t(46),z=t(80),P=t(49),D=t(17),U=function(e){var n=Object(g.useState)(),t=Object(w.a)(n,2),a=t[0],i=t[1],o=Object(g.useState)(),c=Object(w.a)(o,2),r=c[0],s=c[1],l=Object(g.useState)(),d=Object(w.a)(l,2),u=d[0],b=d[1],p=Object(g.useState)(!1),f=Object(w.a)(p,2),j=f[0],h=f[1],x=Object(g.useState)(),O=Object(w.a)(x,2),m=O[0],v=O[1],F=Object(g.useMemo)((function(){return Object(S.a)()}),[]),y=Object(g.useState)(!1),k=Object(w.a)(y,2),A=k[0],P=k[1];Object(g.useEffect)((function(){m&&!function(e){switch(function(e){var n=e.split(".");return n[n.length-1]}(e).toLowerCase()){case"m4v":case"avi":case"mpg":case"mp4":case"mov":return!0;default:return!1}}(m)?(s("Please choose a video file"),P(!1)):m&&(P(!0),s(void 0))}),[m]);var U=Object(g.useCallback)((function(){i(void 0),b(void 0);var n=document.querySelector("#upload").files;if(n.length>0){var t=n[0],a=t.name,o={contentType:t.type},c=Object(S.b)(F,"upload/"+e.user.uid+"/"+a);h(!0);var r=Object(I.t)(c,t,o);Object(E.c)(Object(E.b)(Object(E.a)(),"users/"+e.user.uid),{email:e.user.email,name:e.user.displayName}).then((function(){return console.log("Updated successfully")})).catch((function(){return console.log("Could not update user")})),r.on("state_changed",(function(e){}),(function(e){switch(console.log("Could not upload the file",e),e.code){case"storage/unauthorized":i("Could not upload the file: permission denied");break;case"storage/unauthenticated":i("Could not upload the file, please sign in");break;default:i("Could not upload the file, please try again later");break;case"storage/unknown":i(e.message)}b(!1),h(!1)}),(function(){console.log("Uploaded the file: "+a),b(!0),h(!1)}))}}),[e.user]);return Object(D.jsxs)(W,{children:[Object(D.jsxs)(V,{children:[Object(D.jsx)(N,{children:e.user.displayName}),Object(D.jsx)(H,{onClick:function(){C.a.auth().signOut()},children:"Sign Out"})]}),u&&Object(D.jsxs)("div",{children:[Object(D.jsx)(Z,{children:"Video has been successfully uploaded."}),Object(D.jsx)(X,{children:"We will send the double Ace Trace back to you soon!"})]}),!u&&Object(D.jsxs)(B,{children:[Object(D.jsxs)(q,{children:[Object(D.jsx)("input",{type:"file",onChange:function(){var e=document.querySelector("#upload").files[0];e&&v(e.name)},id:"upload",name:"file",style:{display:"none"}}),Object(D.jsx)(G,{enabled:!j,children:"Choose video"}),Object(D.jsx)(M,{children:m})]}),r&&Object(D.jsx)(Q,{children:r}),Object(D.jsx)(K,{children:"We need your email to send the Double Ace Trace video back"}),Object(D.jsx)(J,{className:"input is-medium",type:"text",name:"email",placeholder:"Email",required:!0,defaultValue:e.user.email}),Object(D.jsxs)(_,{disabled:j||!A,onClick:function(){return A&&U()},children:[j&&Object(D.jsx)(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),j?"Uploading...":"Upload"]}),a&&Object(D.jsx)(Q,{children:a})]})]})};var T,R,L,V=A.a.div(a||(a=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 40px;\n"]))),W=A.a.div(i||(i=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  padding-right: 10px;\n  align-items: center;\n  text-align: left;\n"]))),B=A.a.div(o||(o=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),N=A.a.div(c||(c=Object(v.a)(["\n  font-weight: 700;\n  font-size: 1.5rem;\n  color: #FF8F48;\n  margin-right: 40px;\n"]))),q=A.a.label(r||(r=Object(v.a)(["\n  outline: none;\n  text-align: left;\n  margin: 10px;\n\n  display: flex;\n  align-items: center;\n"]))),G=A.a.div(s||(s=Object(v.a)(["\n  outline: none;\n  border-color: #FFCE5A;\n  background: ","\n  color: #fff;\n  transition: all 0.5s;\n\n  border-radius: 500px;\n  cursor: ","\n\n  font-size: 1rem;\n  font-weight: 600;\n  padding: 8px 16px 8px 16px;\n  margin-right: 10px;\n"])),(function(e){return e.enabled?"linear-gradient(45deg, #FFCE5A, #FF8F48);":"#777;"}),(function(e){return e.enabled?"pointer;":"not-allowed;"})),M=A.a.div(l||(l=Object(v.a)(["\n  width: 130px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),_=Object(A.a)(P.a)(d||(d=Object(v.a)(["\n  outline: none;\n  border-color: #FFCE5A;\n  background: linear-gradient(45deg, #FFCE5A, #FF8F48);\n  color: #fff;\n  transition: all 0.5s;\n\n  border-radius: 500px;\n\n  font-size: 1rem;\n  font-weight: 600;\n  padding: 8px 16px 8px 16px;\n  margin: 10px;\n  &:disabled {\n    background: #777;\n  }\n  \n  > span {\n    padding-right: 8px;\n  } \n"]))),H=Object(A.a)(P.a)(u||(u=Object(v.a)(["\n  outline: none;\n  background: transparent;\n  color: #fff;\n  transition: all 0.5s;\n\n  border-radius: 500px;\n  border: 2px solid #999;\n  cursor: pointer;\n\n  font-size: 1rem;\n  font-weight: 600;\n"]))),J=A.a.input(b||(b=Object(v.a)(["\n  color: #878787;\n  box-shadow: none !important;\n  transition: all 0.8s;\n  padding-bottom: 3px;\n  background-color: #584D68;\n  border-color: #423751;\n  color: #dbdbdb;\n  box-shadow: inset 0 1px 2px rgb(10 10 10 / 10%);\n  width: 300px;\n\n  -webkit-appearance: none;\n  align-items: center;\n  border: 1;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  align-items: center;\n  border: 2px solid transparent;\n  border-radius: 10px;\n  box-shadow: none;\n  display: inline-flex;\n  height: 2.25em;\n  justify-content: flex-start;\n  line-height: 1.5;\n  padding: 5px;\n  position: relative;\n  vertical-align: top;\n  margin: 10px;\n\n  // States\n  &:focus,\n  &.is-focused,\n  &:active,\n  &.is-active {\n    outline: none;\n  }\n  &[disabled] {\n    cursor: not-allowed;\n   }\n"]))),K=A.a.p(p||(p=Object(v.a)(["\n  margin-top: 24px;\n"]))),Q=A.a.p(f||(f=Object(v.a)(["\n  color: #cf8162;\n  text-align: left;\n"]))),Z=A.a.div(j||(j=Object(v.a)(["\n  color: #FFCE5A;\n  font-size: 22px;\n  text-align: center;\n"]))),X=A.a.div(h||(h=Object(v.a)(["\n  font-size: 18px;\n"]))),Y=t.p+"static/media/logo.1356530a.svg",$=(t(77),{signInSuccessUrl:"/upload",signInOptions:[y.a.auth.GoogleAuthProvider.PROVIDER_ID,y.a.auth.FacebookAuthProvider.PROVIDER_ID],tosUrl:"/terms",privacyPolicyUrl:"/privacy"}),ee=y.a.initializeApp({apiKey:"AIzaSyC8WLfWe86v7z6kGwrQFHgVNfeaMD-7Teo",authDomain:"followflight-f0c00.firebaseapp.com",databaseURL:"https://followflight-f0c00-default-rtdb.firebaseio.com",projectId:"followflight-f0c00",storageBucket:"followflight-f0c00.appspot.com",messagingSenderId:"364337264488",appId:"1:364337264488:web:2230e274aba6b5f41fc8dd",measurementId:"G-0TBHKW45Z5"}),ne=(Object(F.a)(ee),new k.a.AuthUI(y.a.auth()));var te=function(e){return Object(D.jsxs)(ae,{children:[Object(D.jsx)("a",{href:"/",children:Object(D.jsx)("img",{src:Y,alt:"",width:"112",height:"28"})}),Object(D.jsx)(ie,{children:e.children})]})},ae=A.a.div(T||(T=Object(v.a)(["\n  font-family: 'Open Sans', sans-serif;\n  width: 100%;\n  height: 100vh;  \n  background-color: #2c2536;\n  color: #fff;\n  padding: 12px;\n"]))),ie=A.a.div(R||(R=Object(v.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  text-align: center;\n"]))),oe=A.a.a(L||(L=Object(v.a)(["\n  outline: none;\n  border-color: #FFCE5A;\n  background: linear-gradient(45deg, #FFCE5A, #FF8F48);\n  color: #fff;\n  transition: all 0.5s;\n  \n  border-radius: 500px;\n  cursor: pointer;\n  \n  font-size: 1rem;\n  font-weight: 600;\n  padding: 8px 12px 8px 12px;\n  width: 120px;\n  margin: 10px;\n"]))),ce=function(){var e=Object(g.useState)(),n=Object(w.a)(e,2),t=n[0],a=n[1],i=Object(g.useState)(!1),o=Object(w.a)(i,2),c=o[0],r=o[1],s=Object(g.useState)(),l=Object(w.a)(s,2),d=l[0],u=l[1],b=Object(g.useCallback)((function(){r(!0),ne.start("#firebaseui-auth-container",$)}),[r]);return Object(g.useEffect)((function(){y.a.auth().onAuthStateChanged((function(e){a(e)}),(function(e){return u(e.message)}))}),[a,u]),Object(g.useEffect)((function(){ne.isPendingRedirect()&&b()}),[b]),t&&!d?Object(D.jsx)(te,{children:Object(D.jsx)(U,{user:t})}):Object(D.jsxs)(te,{children:[Object(D.jsx)("div",{id:"firebaseui-auth-container"}),(!t&&!c||d)&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("p",{children:"Please, sign in to send the video"}),Object(D.jsx)(oe,{onClick:b,children:"Sign In"}),Object(D.jsx)("p",{children:d})]})]})},re=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,81)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),a(e),i(e),o(e),c(e)}))};m.a.render(Object(D.jsx)(x.a.StrictMode,{children:Object(D.jsx)(ce,{})}),document.getElementById("root")),re()}},[[78,1,2]]]);
//# sourceMappingURL=main.bf49668f.chunk.js.map